<?xml version="1.0" encoding="utf-8" ?>
<root>
    <client id="client1">
        <product>
            select products_id as id, products_name as name, products_price as price,  products_usd_price as usdPrice,
            categories_id as categoryId, categories_name as categoryName, manufacturers_name as manufacturer,
            products_image as imageUrl, products_url as url,0 as categoryParentId,
            products_short_description as shortDescription, products_description as description,
            products_status = 'yes' OR products_status = '1' OR products_status = 'true' as published,
            products_quantity > 0 as available
            from products
            left join products_description using(products_id)
            left join products_to_categories using(products_id)
            left join categories_description using(categories_id)
            left join manufacturers using(manufacturers_id)
        </product>

        <categories>
            <getCategories>
                SELECT categories_id as categoryId, categories_name as categoryName, 0 as parentId FROM categories_description
            </getCategories>

            <getParentCategories>
                SELECT parentCategory.categories_id as categoryId, categories_description.categories_name as categoryName,
                       parentCategory.parent_id as parentId
                FROM categories as category, categories as parentCategory
                    JOIN categories_description ON categories_description.categories_id = parentCategory.categories_id
                WHERE category.parent_id = parentCategory.categories_id
                      AND category.categories_id IN (?)
            </getParentCategories>
        </categories>
    </client>

    <client id="client2">
        <product>

                    <listOfId>
                        select  product_id as id, ocs_product_description.name as `name`, ocs_product.price as price,
                                        category_id as categoryId, ocs_category_description.name as categoryName,
                                        ocs_manufacturer.name as manufacturer, '' as shortDescription, '' as url,
                                        ocs_product.image as imageUrl, ocs_category.parent_id as categoryParentId,
                                        ocs_product_description.description as description, ocs_product.status as published,
                                        ocs_product.quantity > 0 as available
                        from ocs_product
                        left join ocs_product_description using(product_id)
                        left join ocs_product_to_category using(product_id)
                        left join ocs_category using(category_id)
                        left join ocs_category_description using(category_id)
                        left join ocs_manufacturer using(manufacturer_id)
                        where product_id IN (?)
                    </listOfId>

                    <byCategoryId>
                        select  product_id as id, ocs_product_description.name as `name`, ocs_product.price as price,
                                        category_id as categoryId, ocs_category_description.name as categoryName,
                                        ocs_manufacturer.name as manufacturer, '' as shortDescription, '' as url,
                                        ocs_product.image as imageUrl, ocs_category.parent_id as categoryParentId,
                                        ocs_product_description.description as description, ocs_product.status as published,
                                        ocs_product.quantity > 0 as available
                        from ocs_product
                        left join ocs_product_description using(product_id)
                        left join ocs_product_to_category using(product_id)
                        left join ocs_category using(category_id)
                        left join ocs_category_description using(category_id)
                        left join ocs_manufacturer using(manufacturer_id)
                        where category_id = ?
                    </byCategoryId>

                <byWords>
                    select  product_id as id, ocs_product_description.name as `name`, ocs_product.price as price,
                    category_id as categoryId, ocs_category_description.name as categoryName,
                    ocs_manufacturer.name as manufacturer, '' as shortDescription, '' as url,
                    ocs_product.image as imageUrl, ocs_category.parent_id as categoryParentId,
                    ocs_product_description.description as description, ocs_product.status as published,
                    ocs_product.quantity > 0 as available
                    from ocs_product
                    left join ocs_product_description using(product_id)
                    left join ocs_product_to_category using(product_id)
                    left join ocs_category using(category_id)
                    left join ocs_category_description using(category_id)
                    left join ocs_manufacturer using(manufacturer_id)
                </byWords>

        </product>

        <categories>
            <getCategories>
                SELECT cat.category_id as categoryId, description.name as categoryName,
                       cat.parent_id as parentId FROM ocs_category as parentCat, ocs_category as cat
                    JOIN ocs_category_description as description ON description.category_id = cat.category_id
                WHERE (cat.parent_id = parentCat.category_id AND cat.status = 1 AND parentCat.status = 1) OR
                      (  (cat.parent_id = 0 OR cat.parent_id = cat.category_id) AND cat.status = 1  )
            </getCategories>

            <getParentCategories>
                SELECT parent_category.category_id as categoryId, ocs_category_description.`name` as categoryName,
                parent_category.parent_id as parentId
                FROM ocs_category as category, ocs_category as parent_category
                JOIN ocs_category_description ON ocs_category_description.category_id = parent_category.category_id
                WHERE category.parent_id = parent_category.category_id
                AND NOT (parent_category.category_id = parent_category.parent_id)
                AND category.category_id IN (?)
            </getParentCategories>
        </categories>
    </client>

    <client id="demo">
<product>
            select products_id as id, products_name as name, products_price as price,
            categories_id as categoryId, categories_name as categoryName, manufacturers_name as manufacturer,
            products_image as imageUrl, products_url as url,0 as categoryParentId,
            products_short_description as shortDescription, products_description as description,
            products_status = 'yes' OR products_status = '1' OR products_status = 'true' as published,
            products_quantity > 0 as available
            from products
            left join products_description using(products_id)
            left join products_to_categories using(products_id)
            left join categories_description using(categories_id)
            left join manufacturers using(manufacturers_id)
        </product>

        <categories>
            <getCategories>
                SELECT categories_id as categoryId, categories_name as categoryName, 0 as parentId FROM categories_description
            </getCategories>

            <getParentCategories>
                SELECT parentCategory.categories_id as categoryId, categories_description.categories_name as categoryName,
                       parentCategory.parent_id as parentId
                FROM categories as category, categories as parentCategory
                    JOIN categories_description ON categories_description.categories_id = parentCategory.categories_id
                WHERE category.parent_id = parentCategory.categories_id
                      AND category.categories_id IN (?)
            </getParentCategories>
        </categories>

    </client>

</root>